<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Croissanterie</title>
  <link rel="icon" href="images/ico.png">
      <meta name="theme-color" content="#106faa">
      <link rel="stylesheet" href="css/bsod.css">
</head>

  <body>


  <main>
    <header>
      <h1 class="emotion">:(</h1>
    </header>
    <a class="description">Vous avez été croissanté car vous avez oublié de verrouiller votre session lors de votre absence.<br>Vous êtes alors dans l'obligation de ramener des croissants pour votre équipe lors de votre prochaine venue à votre bureau.<p><span id="progress">0</span>% achevés</p></a>
    <table>
      <tr>
        <td><div id="qrcode" style="padding: 16px; width: 110px; height: 110px; background: #fff; display: inline-block"></div></td>
        <td style="position: absolute; margin-top: -23px;">
		<p style="margin-left: 8px"><small>Pour plus d'informations sur la boulangerie, visitez <br><a style="text-decoration:none; color: #FFF" href="https://au-bon-pain.fr/">https://au-bon-pain.fr/</a></small></p>
          <p style="margin-left: 8px"><small>Partagez vos croissanteries sur le canal Mattermost ou Signal favori.</small></p>
        </td>
      </tr>
    </table>
  <img src="images/ico.png" class="croissant">
  </main>

  </body>

  <script src="js/qrcode.js"></script>

  <script src="js/bsod.js"></script>

  <script type="text/javascript" module>
    const el = document.getElementById('progress');
    const UPDATE_DELAY = 3000;

    let progress = 0;

    function updateProgress() {
      progress += Math.round(Math.random() * 5);
      if (el) {
        el.innerText = progress;
      }
      setTimeout(() => updateProgress(), UPDATE_DELAY);
    }

    updateProgress();
  </script>

</html>
